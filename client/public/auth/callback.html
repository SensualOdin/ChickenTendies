<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Signing you in...</title>
  <style>
    body { background: #1a1a2e; color: #fff; font-family: -apple-system, sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
    p { font-size: 1.1rem; opacity: 0.7; }
  </style>
</head>
<body>
  <p>Signing you in...</p>
  <script>
    // After OAuth, Supabase redirects here with either:
    // - Hash fragment: #access_token=...&refresh_token=... (implicit flow)
    // - Query params: ?code=... (PKCE flow)
    // Forward everything to the native app via deep link.
    var hash = window.location.hash || '';
    var search = window.location.search || '';
    // Always redirect to the native app with both query and hash preserved
    var deepLink = 'chickentinders://auth/callback' + search + hash;
    window.location.replace(deepLink);
  </script>
</body>
</html>
